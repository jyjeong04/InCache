sum=0; throughputs=(); for i in {1..100}; do t=$(./mot 0 | awk -F': ' '/Throughput/ {print $2}'); echo "Throughput: $t"; num=$(echo $t | awk '{print $1}'); throughputs+=($num); done; sorted=($(printf '%s\n' "${throughputs[@]}" | sort -n)); for ((i=5;i<100;i++)); do sum=$(echo "$sum + ${sorted[$i]}" | bc); done; avg=$(echo "scale=6; $sum / 95" | bc); echo "Average Throughput (excluded lowest 5): $avg GB/s"
Throughput: 70.232318 GB/s
Throughput: 68.973965 GB/s
Throughput: 70.274266 GB/s
Throughput: 69.658373 GB/s
Throughput: 71.227303 GB/s
Throughput: 70.126731 GB/s
Throughput: 69.016100 GB/s
Throughput: 70.659905 GB/s
Throughput: 53.840782 GB/s
Throughput: 54.589663 GB/s
Throughput: 69.232869 GB/s
Throughput: 68.913975 GB/s
Throughput: 69.738796 GB/s
Throughput: 70.512171 GB/s
Throughput: 69.153630 GB/s
Throughput: 70.259565 GB/s
Throughput: 70.203989 GB/s
Throughput: 69.618258 GB/s
Throughput: 70.396875 GB/s
Throughput: 62.696837 GB/s
Throughput: 68.945022 GB/s
Throughput: 69.141413 GB/s
Throughput: 70.281149 GB/s
Throughput: 69.971423 GB/s
Throughput: 69.472735 GB/s
Throughput: 68.677643 GB/s
Throughput: 69.740975 GB/s
Throughput: 68.684745 GB/s
Throughput: 69.094405 GB/s
Throughput: 67.006876 GB/s
Throughput: 70.877453 GB/s
Throughput: 70.180734 GB/s
Throughput: 69.482297 GB/s
Throughput: 69.994304 GB/s
Throughput: 69.863572 GB/s
Throughput: 69.809166 GB/s
Throughput: 70.163039 GB/s
Throughput: 69.017068 GB/s
Throughput: 69.413579 GB/s
Throughput: 68.642524 GB/s
Throughput: 68.882714 GB/s
Throughput: 70.759045 GB/s
Throughput: 69.951954 GB/s
Throughput: 68.864999 GB/s
Throughput: 69.657278 GB/s
Throughput: 69.648251 GB/s
Throughput: 68.672942 GB/s
Throughput: 66.712665 GB/s
Throughput: 70.198533 GB/s
Throughput: 52.959980 GB/s
Throughput: 68.556350 GB/s
Throughput: 65.830413 GB/s
Throughput: 69.871030 GB/s
Throughput: 65.798734 GB/s
Throughput: 70.239335 GB/s
Throughput: 66.912756 GB/s
Throughput: 69.319354 GB/s
Throughput: 68.375717 GB/s
Throughput: 70.198698 GB/s
Throughput: 67.512601 GB/s
Throughput: 69.919462 GB/s
Throughput: 68.053625 GB/s
Throughput: 71.669265 GB/s
Throughput: 66.150873 GB/s
Throughput: 69.584053 GB/s
Throughput: 67.128626 GB/s
Throughput: 69.940251 GB/s
Throughput: 66.730351 GB/s
Throughput: 69.992133 GB/s
Throughput: 68.873149 GB/s
Throughput: 38.834276 GB/s
Throughput: 66.063428 GB/s
Throughput: 69.770622 GB/s
Throughput: 66.923374 GB/s
Throughput: 70.121735 GB/s
Throughput: 64.271080 GB/s
Throughput: 69.499287 GB/s
Throughput: 68.729694 GB/s
Throughput: 70.532789 GB/s
Throughput: 69.746571 GB/s
Throughput: 69.407450 GB/s
Throughput: 68.667125 GB/s
Throughput: 70.890412 GB/s
Throughput: 66.084042 GB/s
Throughput: 69.676226 GB/s
Throughput: 65.351707 GB/s
Throughput: 69.789484 GB/s
Throughput: 66.104563 GB/s
Throughput: 69.722996 GB/s
Throughput: 67.718246 GB/s
Throughput: 55.502219 GB/s
Throughput: 67.810505 GB/s
Throughput: 69.488624 GB/s
Throughput: 66.958793 GB/s
Throughput: 68.869848 GB/s
Throughput: 66.967065 GB/s
Throughput: 61.027003 GB/s
Throughput: 67.308898 GB/s
Throughput: 69.751677 GB/s
Throughput: 68.034616 GB/s
Average Throughput (excluded lowest 5): 68.827884 GB/s
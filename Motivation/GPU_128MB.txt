sum=0; throughputs=(); for i in {1..100}; do t=$(./mot 1 | awk -F': ' '/Throughput/ {print $2}'); echo "Throughput: $t"; num=$(echo $t | awk '{print $1}'); throughputs+=($num); done; sorted=($(printf '%s\n' "${throughputs[@]}" | sort -n)); for ((i=5;i<100;i++)); do sum=$(echo "$sum + ${sorted[$i]}" | bc); done; avg=$(echo "scale=6; $sum / 95" | bc); echo "Average Throughput (excluded lowest 5): $avg GB/s"
Throughput: 23.506285 GB/s
Throughput: 23.429486 GB/s
Throughput: 23.326151 GB/s
Throughput: 23.620164 GB/s
Throughput: 23.495491 GB/s
Throughput: 23.612364 GB/s
Throughput: 23.560554 GB/s
Throughput: 23.287312 GB/s
Throughput: 23.161096 GB/s
Throughput: 23.687420 GB/s
Throughput: 23.214673 GB/s
Throughput: 23.168616 GB/s
Throughput: 23.560599 GB/s
Throughput: 23.489555 GB/s
Throughput: 23.270242 GB/s
Throughput: 23.530628 GB/s
Throughput: 23.326521 GB/s
Throughput: 23.032693 GB/s
Throughput: 23.533103 GB/s
Throughput: 23.195595 GB/s
Throughput: 23.153846 GB/s
Throughput: 23.494966 GB/s
Throughput: 22.755790 GB/s
Throughput: 23.474574 GB/s
Throughput: 23.424699 GB/s
Throughput: 23.317182 GB/s
Throughput: 23.410943 GB/s
Throughput: 23.330366 GB/s
Throughput: 23.160431 GB/s
Throughput: 23.534152 GB/s
Throughput: 23.251747 GB/s
Throughput: 22.812816 GB/s
Throughput: 23.505710 GB/s
Throughput: 23.484466 GB/s
Throughput: 23.459390 GB/s
Throughput: 23.457019 GB/s
Throughput: 23.130929 GB/s
Throughput: 23.411294 GB/s
Throughput: 23.149203 GB/s
Throughput: 22.742073 GB/s
Throughput: 23.196198 GB/s
Throughput: 23.152166 GB/s
Throughput: 23.355761 GB/s
Throughput: 23.294462 GB/s
Throughput: 23.432123 GB/s
Throughput: 23.012882 GB/s
Throughput: 22.987032 GB/s
Throughput: 22.839943 GB/s
Throughput: 23.294444 GB/s
Throughput: 22.755314 GB/s
Throughput: 23.224136 GB/s
Throughput: 22.720314 GB/s
Throughput: 23.092373 GB/s
Throughput: 22.858766 GB/s
Throughput: 23.128279 GB/s
Throughput: 23.019030 GB/s
Throughput: 22.914200 GB/s
Throughput: 23.006885 GB/s
Throughput: 23.228178 GB/s
Throughput: 22.987288 GB/s
Throughput: 23.022642 GB/s
Throughput: 23.140679 GB/s
Throughput: 22.877931 GB/s
Throughput: 23.134820 GB/s
Throughput: 22.866840 GB/s
Throughput: 22.655084 GB/s
Throughput: 22.939907 GB/s
Throughput: 23.044870 GB/s
Throughput: 22.837091 GB/s
Throughput: 23.210321 GB/s
Throughput: 23.020376 GB/s
Throughput: 22.951750 GB/s
Throughput: 23.125807 GB/s
Throughput: 23.011439 GB/s
Throughput: 23.043134 GB/s
Throughput: 22.724947 GB/s
Throughput: 22.755384 GB/s
Throughput: 22.969922 GB/s
Throughput: 22.911604 GB/s
Throughput: 22.980211 GB/s
Throughput: 23.128334 GB/s
Throughput: 22.907739 GB/s
Throughput: 22.706570 GB/s
Throughput: 22.971587 GB/s
Throughput: 23.096989 GB/s
Throughput: 22.754422 GB/s
Throughput: 23.079256 GB/s
Throughput: 23.032577 GB/s
Throughput: 22.963609 GB/s
Throughput: 22.707774 GB/s
Throughput: 22.938928 GB/s
Throughput: 22.861622 GB/s
Throughput: 22.993316 GB/s
Throughput: 23.008178 GB/s
Throughput: 23.036544 GB/s
Throughput: 22.931744 GB/s
Throughput: 23.108637 GB/s
Throughput: 23.094421 GB/s
Throughput: 23.127815 GB/s
Throughput: 22.777401 GB/s
Average Throughput (excluded lowest 5): 23.156920 GB/s